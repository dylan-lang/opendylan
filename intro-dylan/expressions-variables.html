
<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Expressions &amp; Variables &mdash; An Introduction to Dylan</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="_static/opendylan.org/css/opendylan-docs.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="copyright" title="Copyright" href="copyright.html" />
    <link rel="next" title="Methods &amp; Generic Functions" href="methods-generic-functions.html" />
    <link rel="prev" title="Why Dylan?" href="why-dylan.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            An Introduction to Dylan
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="why-dylan.html">Why Dylan?</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Expressions &amp; Variables</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#naming-conventions">Naming Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#true-and-false">True and False</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-nature-of-variables">The Nature of Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="#assignment-equality-and-identity">Assignment, Equality and Identity</a></li>
<li class="toctree-l2"><a class="reference internal" href="#parallel-values">Parallel Values</a></li>
<li class="toctree-l2"><a class="reference internal" href="#type-declarations">Type Declarations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-variables-and-constants">Module Variables and Constants</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="methods-generic-functions.html">Methods &amp; Generic Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="objects.html">Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="multiple-dispatch.html">Multiple Dispatch</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules-libraries.html">Modules &amp; Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="conditions.html">Conditions</a></li>
<li class="toctree-l1"><a class="reference internal" href="copyright.html">Copyright</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">An Introduction to Dylan</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Expressions &amp; Variables</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/expressions-variables.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="expressions-variables">
<h1>Expressions &amp; Variables<a class="headerlink" href="#expressions-variables" title="Permalink to this headline">¶</a></h1>
<p>Dylan identifiers may contain a greater variety of characters
than those of C++ or Java. Specifically, variable names may contain all
alphanumeric characters, plus the symbols <code class="docutils literal notranslate"><span class="pre">!</span> <span class="pre">&amp;</span> <span class="pre">*</span> <span class="pre">&lt;</span> <span class="pre">=</span> <span class="pre">&gt;</span>
<span class="pre">|</span> <span class="pre">^</span> <span class="pre">$</span> <span class="pre">%</span> <span class="pre">&#64;</span> <span class="pre">_</span> <span class="pre">-</span> <span class="pre">+</span> <span class="pre">~</span> <span class="pre">?</span> <span class="pre">/</span></code>. Identifiers may not begin with the
symbols <code class="docutils literal notranslate"><span class="pre">-</span> <span class="pre">+</span> <span class="pre">~</span> <span class="pre">?</span> <span class="pre">/</span></code>, although identifiers may begin
with numbers, provided they contain at least two alphabetic characters
in a row. Variable names are not case sensitive.</p>
<p>This means that <code class="docutils literal notranslate"><span class="pre">(a</span> <span class="pre">-</span> <span class="pre">b)</span></code> subtracts one variable from another,
whereas <code class="docutils literal notranslate"><span class="pre">(a-b)</span></code> simply returns the value of the hyphenated variable
named <code class="docutils literal notranslate"><span class="pre">a-b</span></code>.  Because of this, infix operators, such as addition,
subtraction and equality, must be surrounded by whitespace.</p>
<p>As in C++, Dylan infix operators may also be referred to as
functions. In C++, <code class="docutils literal notranslate"><span class="pre">(a</span> <span class="pre">+</span> <span class="pre">b)</span></code> could also be written as <code class="docutils literal notranslate"><span class="pre">operator+(a,</span>
<span class="pre">b)</span></code>. In Dylan, the same expression could be written <code class="docutils literal notranslate"><span class="pre">\+(a,</span> <span class="pre">b)</span></code>. In
both languages, programmers can use this flexibility to define
operators for custom numeric classes.</p>
<div class="section" id="naming-conventions">
<h2>Naming Conventions<a class="headerlink" href="#naming-conventions" title="Permalink to this headline">¶</a></h2>
<p>Dylan uses the extra characters permitted in variable names to
support a number of standard naming conventions, as shown in this table:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 76%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference external" href="https://opendylan.org/books/drm/Collection_Classes#string"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code></a></p></td>
<td><p>a class</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://opendylan.org/books/drm/Collection_Operations#add."><code class="xref drm docutils literal notranslate"><span class="pre">add!</span></code></a></p></td>
<td><p>mutative function (modifies argument destructively)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://opendylan.org/books/drm/Collection_Operations#empty_"><code class="xref drm docutils literal notranslate"><span class="pre">empty?</span></code></a></p></td>
<td><p>predicate function (tests one or more arguments and
returns either true or false)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">write-line</span></code></p></td>
<td><p>a two word name</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">$name</span></code></p></td>
<td><p>constant</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">*name*</span></code></p></td>
<td><p>module-level variable</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="true-and-false">
<h2>True and False<a class="headerlink" href="#true-and-false" title="Permalink to this headline">¶</a></h2>
<p>Dylan represents true as <a class="reference external" href="https://opendylan.org/books/drm/Other_Built-In_Objects_Defined#true"><code class="xref drm docutils literal notranslate"><span class="pre">#t</span></code></a> and false as <a class="reference external" href="https://opendylan.org/books/drm/Other_Built-In_Objects_Defined#false"><code class="xref drm docutils literal notranslate"><span class="pre">#f</span></code></a>. When evaluated in
a Boolean context, all values other than <a class="reference external" href="https://opendylan.org/books/drm/Other_Built-In_Objects_Defined#false"><code class="xref drm docutils literal notranslate"><span class="pre">#f</span></code></a> are considered
true. Thus, the number zero – and other common “false” values –
evaluate as true in Dylan.</p>
</div>
<div class="section" id="the-nature-of-variables">
<h2>The Nature of Variables<a class="headerlink" href="#the-nature-of-variables" title="Permalink to this headline">¶</a></h2>
<p>Dylan variables differ from those found in C and Pascal. Instead
of <em>holding</em> their values, Dylan variables
<em>refer</em> to them. Conceptually, they resemble a
cross between pointers and C++ references. Like references, Dylan
variables may be evaluated without any indirection. Like pointers,
they may be set to point to new objects whenever the programmer
desires.</p>
<p>Furthermore, there’s only one of any given numeric value in a
Dylan program, at least from the programmer’s point of view. All
variables which refer to the integer 2 – or, in Dylan terminology, are
<a class="reference external" href="https://opendylan.org/books/drm/Bindings"><code class="xref drm docutils literal notranslate"><span class="pre">bound</span></code></a> to the integer 2 – point to the
exact same thing.</p>
<div class="highlight-dylan notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>  <span class="c1">// creates x and binds it to 2</span>
<span class="n">x</span> <span class="o">:=</span> <span class="mi">3</span><span class="p">;</span>    <span class="c1">// rebinds x to the value 3</span>
<span class="k">let</span> <span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>  <span class="c1">// creates y, and binds it to whatever x is bound to</span>
</pre></div>
</div>
<p>If two variables are bound to one object with internal
structure, the results may surprise C and Pascal programmers.</p>
<div class="highlight-dylan notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">car1</span> <span class="o">=</span> <span class="nb">make</span><span class="p">(</span><span class="nc">&lt;car&gt;</span><span class="p">);</span>  <span class="c1">// bind car1 to a new car object</span>
<span class="n">car1</span><span class="p">.</span><span class="n">odometer</span> <span class="o">:=</span> <span class="mi">10000</span><span class="p">;</span>       <span class="c1">// set odometer</span>
<span class="k">let</span> <span class="n">car2</span> <span class="o">=</span> <span class="n">car1</span><span class="p">;</span>              <span class="c1">// bind new name</span>
<span class="n">car2</span><span class="p">.</span><span class="n">odometer</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>           <span class="c1">// reset odometer</span>
<span class="n">car1</span><span class="p">.</span><span class="n">odometer</span><span class="p">;</span>                <span class="c1">// evaluates to 0</span>
</pre></div>
</div>
<p>As long as one or more variables refer to an object, it
continues to exist. However, as soon as the last reference either
goes out of scope or gets rebound, the object becomes garbage.
Since there’s no way that the program could ever refer to the object
again, the garbage collector is free to reuse the memory
which once held it.</p>
<p>Note that Dylan variables <em>must</em> be bound to a
particular value when they are declared. In the name of type safety
and implementation efficiency, every variable must refer to some
well-defined object.</p>
</div>
<div class="section" id="assignment-equality-and-identity">
<h2>Assignment, Equality and Identity<a class="headerlink" href="#assignment-equality-and-identity" title="Permalink to this headline">¶</a></h2>
<p>Dylan uses all three of the “equals” operators
found in C and Pascal, albeit in a different fashion. The
assignment operator, <a class="reference external" href="https://opendylan.org/books/drm/Function_Macros#assignment"><code class="xref drm docutils literal notranslate"><span class="pre">:=</span></code></a>, rebinds Dylan variable
names to new values. The equality operator, <a class="reference external" href="https://opendylan.org/books/drm/Equality_and_Comparison#equal"><code class="xref drm docutils literal notranslate"><span class="pre">=</span></code></a>,
tests for equality in Dylan and also appears in some
language constructs such as <a class="reference external" href="https://opendylan.org/books/drm/Local_Declaration_Macros#let"><code class="xref drm docutils literal notranslate"><span class="pre">let</span></code></a>. (Two Dylan objects
are equal, generally, if they belong to the same class and have equal
substructure.)</p>
<p>The <a class="reference external" href="https://opendylan.org/books/drm/Equality_and_Comparison#identity"><code class="xref drm docutils literal notranslate"><span class="pre">==</span></code></a> operator determines whether two objects are identical in
Dylan. Two objects are identical if and only if they are the exact same
object. For example, the following two expressions mean roughly the same
thing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="n">b</span><span class="p">)</span>   <span class="o">//</span> <span class="ow">in</span> <span class="n">Dylan</span> <span class="ow">or</span> <span class="n">Java</span>
<span class="p">(</span><span class="o">&amp;</span><span class="n">a</span> <span class="o">==</span> <span class="o">&amp;</span><span class="n">b</span><span class="p">)</span> <span class="o">//</span> <span class="ow">in</span> <span class="n">C</span> <span class="ow">or</span> <span class="n">C</span><span class="o">++</span>
</pre></div>
</div>
<p>The following piece of source code demonstrates all three
operators in actual use.</p>
<div class="highlight-dylan notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">car1</span> <span class="o">=</span> <span class="nb">make</span><span class="p">(</span><span class="nc">&lt;car&gt;</span><span class="p">);</span>
<span class="k">let</span> <span class="n">car2</span> <span class="o">=</span> <span class="nb">make</span><span class="p">(</span><span class="nc">&lt;car&gt;</span><span class="p">);</span>
<span class="k">let</span> <span class="n">car3</span> <span class="o">=</span> <span class="n">car2</span><span class="p">;</span>

<span class="n">car2</span> <span class="o">=</span> <span class="n">car3</span><span class="p">;</span>  <span class="c1">// #t</span>
<span class="n">car1</span> <span class="o">=</span> <span class="n">car2</span><span class="p">;</span>  <span class="c1">// ??? (see below)</span>
<span class="n">car2</span> <span class="o">==</span> <span class="n">car3</span><span class="p">;</span>  <span class="c1">// #t</span>
<span class="n">car1</span> <span class="o">==</span> <span class="n">car2</span><span class="p">;</span>  <span class="c1">// #f</span>

<span class="n">car2</span> <span class="o">:=</span> <span class="n">car1</span><span class="p">;</span>  <span class="c1">// rebind</span>
<span class="n">car1</span> <span class="o">==</span> <span class="n">car2</span><span class="p">;</span>  <span class="c1">// #t</span>

<span class="k">let</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="k">let</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">y</span><span class="p">;</span>  <span class="c1">// #t</span>
<span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="p">;</span>  <span class="c1">// #t (there is only one 2!)</span>
</pre></div>
</div>
<p>Two of the examples merit further explanation. First, we don’t know if
make creates each car with the same serial number, driver and other
information as previous cars, or whether there is a method defined on
<code class="docutils literal notranslate"><span class="pre">\=(&lt;car&gt;,</span> <span class="pre">&lt;car&gt;)</span></code> that compares cars slot-by-slot.</p>
<p>Second, <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">==</span> <span class="pre">y</span></code> because every variable bound to a
given number refers to the exact same instance of that number, at least
from the programmer’s perspective. (The compiler will normally do
something more useful and efficient when generating the actual machine
code.)  Strings behave in a fashion different from numbers –
instances of strings are stored separately, and two equal strings are
not necessarily the same string.</p>
</div>
<div class="section" id="parallel-values">
<h2>Parallel Values<a class="headerlink" href="#parallel-values" title="Permalink to this headline">¶</a></h2>
<p>It’s possible to bind more than one variable at a time in Dylan.
For example, a single <a class="reference external" href="https://opendylan.org/books/drm/Local_Declaration_Macros#let"><code class="xref drm docutils literal notranslate"><span class="pre">let</span></code></a> statement could bind
<code class="docutils literal notranslate"><span class="pre">x</span></code> to 2, <code class="docutils literal notranslate"><span class="pre">y</span></code> to 3 and <code class="docutils literal notranslate"><span class="pre">z</span></code> to 4.</p>
<div class="highlight-dylan notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span> <span class="o">=</span> <span class="nb">values</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span>
</pre></div>
</div>
<p>In Perl, the equivalent statement would assign a vector of
values to a vector of variables. In Dylan, no actual vectors or lists
are used. All three values are assigned directly, using some
implementation-dependent mechanism.</p>
</div>
<div class="section" id="type-declarations">
<span id="id1"></span><h2>Type Declarations<a class="headerlink" href="#type-declarations" title="Permalink to this headline">¶</a></h2>
<p>Dylan variables may have explicit types. This allows the
compiler to generate better code and to catch type-mismatch errors at
compile time. To take advantage of this feature, use the <code class="docutils literal notranslate"><span class="pre">::</span></code> operator:</p>
<div class="highlight-dylan notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">x</span> <span class="p">::</span> <span class="nc">&lt;integer&gt;</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="k">let</span> <span class="n">vehicle</span> <span class="p">::</span> <span class="nc">&lt;vehicle&gt;</span> <span class="o">=</span> <span class="nb">make</span><span class="p">(</span><span class="nc">&lt;car&gt;</span><span class="p">);</span>
<span class="k">let</span> <span class="n">y</span> <span class="p">::</span> <span class="nc">&lt;number&gt;</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>  <span class="c1">// any numeric class</span>
<span class="k">let</span> <span class="n">z</span> <span class="p">::</span> <span class="nc">&lt;integer&gt;</span> <span class="o">=</span> <span class="n">vehicle</span><span class="p">;</span>  <span class="c1">// error!</span>
</pre></div>
</div>
<p>As seen in the example, a variable may be bound to values of its
declared type or to values of subclasses of its declared type. Type
mismatch errors should be caught at compile time. In general, the
compiler may infer the types of variables when generating machine
code. If a local variable is never rebound to anything other than an
integer, for example, the compiler can rely on this fact to optimize
the resulting code.</p>
</div>
<div class="section" id="module-variables-and-constants">
<h2>Module Variables and Constants<a class="headerlink" href="#module-variables-and-constants" title="Permalink to this headline">¶</a></h2>
<p>Dylan supports module-level variables, which serve roughly the same purpose as
C’s global variables. The forms <a class="reference external" href="https://opendylan.org/books/drm/Definition_Macros#define_variable"><code class="xref drm docutils literal notranslate"><span class="pre">define</span> <span class="pre">variable</span></code></a> and <a class="reference external" href="https://opendylan.org/books/drm/Definition_Macros#define_constant"><code class="xref drm docutils literal notranslate"><span class="pre">define</span>
<span class="pre">constant</span></code></a>
may be used at module top level.</p>
<div class="highlight-dylan notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="nb">variable</span> <span class="vg">*x*</span> <span class="p">::</span> <span class="nc">&lt;integer&gt;</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="k">define</span> <span class="nb">variable</span> <span class="vg">*y*</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
<span class="k">define</span> <span class="nb">constant</span> <span class="no">$hi</span> <span class="o">=</span> <span class="s">&quot;Hi!&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>Note that there’s not much point in declaring types for
constants. Any decent compiler will be able to figure that
information out on its own.</p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="why-dylan.html" class="btn btn-neutral float-left" title="Why Dylan?" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="methods-generic-functions.html" class="btn btn-neutral float-right" title="Methods &amp; Generic Functions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="copyright.html">Copyright</a> 2011-2023, Dylan Hackers.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>