
<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Open Dylan 2020.1 &mdash; Open Dylan Release Notes</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="_static/opendylan.org/css/opendylan-docs.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Open Dylan 2019.1" href="2019.1.html" />
    <link rel="prev" title="Open Dylan 2022.1" href="2022.1.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Open Dylan Release Notes
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="2023.1.html">Open Dylan 2023.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="2022.1.html">Open Dylan 2022.1</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Open Dylan 2020.1</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#compiler">Compiler</a></li>
<li class="toctree-l2"><a class="reference internal" href="#run-time">Run-time</a></li>
<li class="toctree-l2"><a class="reference internal" href="#platform-support">Platform Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ide">IDE</a></li>
<li class="toctree-l2"><a class="reference internal" href="#corba">CORBA</a></li>
<li class="toctree-l2"><a class="reference internal" href="#duim">DUIM</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gtk">GTK</a></li>
<li class="toctree-l2"><a class="reference internal" href="#debugging">Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="#documentation">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#build-system">Build System</a></li>
<li class="toctree-l2"><a class="reference internal" href="#library-changes">Library Changes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dylan-library">dylan Library</a></li>
<li class="toctree-l3"><a class="reference internal" href="#common-dylan-library">common-dylan Library</a></li>
<li class="toctree-l3"><a class="reference internal" href="#io-library">io Library</a></li>
<li class="toctree-l3"><a class="reference internal" href="#system-library">system Library</a></li>
<li class="toctree-l3"><a class="reference internal" href="#c-ffi-library">c-ffi Library</a></li>
<li class="toctree-l3"><a class="reference internal" href="#network-library">network library</a></li>
<li class="toctree-l3"><a class="reference internal" href="#testworks-library">testworks Library</a></li>
<li class="toctree-l3"><a class="reference internal" href="#collections-library">collections Library</a></li>
<li class="toctree-l3"><a class="reference internal" href="#big-integers-library">big-integers library</a></li>
<li class="toctree-l3"><a class="reference internal" href="#progress-stream-library">progress-stream library</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gabriel-benchmarks-library">gabriel-benchmarks library</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#contributors">Contributors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="2019.1.html">Open Dylan 2019.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="2014.1.html">Open Dylan 2014.1 Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="2013.2.html">Open Dylan 2013.2 Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="2013.1.html">Open Dylan 2013.1 Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="2012.1.html">Open Dylan 2012.1 Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="2011.1.html">Open Dylan 2011.1 Release Notes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Open Dylan Release Notes</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Open Dylan 2020.1</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/2020.1.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="open-dylan-2020-1">
<h1>Open Dylan 2020.1<a class="headerlink" href="#open-dylan-2020-1" title="Permalink to this headline">¶</a></h1>
<p>This document describes the 2020.1 release of Open Dylan, released 10
October, 2020.  This release contains many enhancements and bug fixes, highlights
of which are listed below.  For complete details see <a class="reference external" href="https://github.com/dylan-lang/opendylan/compare/v2019.1.0...v2020.1.0">the opendylan commit logs</a>. (Note
that some commit logs, for example for testworks and other libraries that are
included in Open Dylan as git submodules, may be in other repositories.)</p>
<ul class="simple">
<li><p>Download the release: <a class="reference external" href="http://opendylan.org/download">http://opendylan.org/download</a></p></li>
<li><p>Read documentation: <a class="reference external" href="http://opendylan.org/documentation">http://opendylan.org/documentation</a></p></li>
<li><p>Report problems: <a class="reference external" href="https://github.com/dylan-lang/opendylan/issues">https://github.com/dylan-lang/opendylan/issues</a></p></li>
</ul>
<div class="section" id="compiler">
<h2>Compiler<a class="headerlink" href="#compiler" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>The default compiler-back-end is now selected by querying the
<code class="docutils literal notranslate"><span class="pre">SUPPORTED_COMPILER_BACK_ENDS</span></code> build system variable, normally set
at configuration time within the <code class="docutils literal notranslate"><span class="pre">config.jam</span></code> build script:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>SUPPORTED_COMPILER_BACK_ENDS ?= llvm c ;
</pre></div>
</div>
<p>At build time, if the selected back-end is not supported by the
build-system configuration, a warning will be issued.</p>
<p>The default back-end, when it is available, is now LLVM.</p>
</li>
<li><p>In the LLVM back-end, improved alignment information is supplied to
the <code class="docutils literal notranslate"><span class="pre">llvm.memcpy</span></code> intrinsic.</p></li>
<li><p>A new <code class="docutils literal notranslate"><span class="pre">primitive-the</span></code> primitive function is supported as an
annotation that allows the compiler to assume that a value has the
given type. These annotations were also added to the <code class="docutils literal notranslate"><span class="pre">dylan</span></code>
library at various frequently-executed expressions where the
compiler is otherwise unable to infer the type, reducing the number
of run-time type checks when using the LLVM back-end.</p></li>
<li><p>Optimization for cases where the <a class="reference external" href="https://opendylan.org/books/drm/Reflective_Operations_on_Types#instance_"><code class="xref drm docutils literal notranslate"><span class="pre">instance?</span></code></a> function is used in
an <code class="docutils literal notranslate"><span class="pre">if</span></code> or <code class="docutils literal notranslate"><span class="pre">case</span></code> condition has been improved.</p></li>
<li><p>A bug in the LLVM back-end that could cause stack overflows in
long-running functions has been fixed.</p></li>
<li><p>The C back-end now uses C99 hexadecimal floating-point constants in
its output to prevent loss of precision due to decimal conversion.</p></li>
<li><p>A <a class="reference external" href="https://github.com/dylan-lang/opendylan/issues/1068">longstanding bug</a> in an
attempted optimization that caused spurious serious warnings when
compiling the Dylan library has been fixed.</p></li>
<li><p>A <a class="reference external" href="https://github.com/dylan-lang/opendylan/issues/1239">failure</a> of
code generated by the LLVM back-end to detect integer overflows
resulting from arithmetic shifts has been fixed.</p></li>
<li><p>A failure to detect argument mismatches when known functions are
called using <a class="reference external" href="https://opendylan.org/books/drm/Function_Application#apply"><code class="xref drm docutils literal notranslate"><span class="pre">apply</span></code></a> has been fixed.</p></li>
<li><p>Calls to functions that do not return are now properly recognized by
the LLVM code generator.</p></li>
<li><p>The failure of the LLVM back-end to include NUL termination in
<a class="reference external" href="https://opendylan.org/books/drm/Collection_Classes#byte-string"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;byte-string&gt;</span></code></a> instances in the generated heap has been
fixed. (NUL termination is added so that string data can be passed
to FFI functions without requiring allocation and copying.)</p></li>
<li><p>Compiler error messages now include column numbers (in <a class="reference external" href="https://www.gnu.org/prep/standards/html_node/Errors.html">GNU standard
format</a>)
when referring to source locations. Debug information generated by
the LLVM back-end also includes column numbers.</p></li>
<li><p>The compiler can now output etags-format TAGS tables using the
<code class="docutils literal notranslate"><span class="pre">export</span> <span class="pre">tags</span></code> command.</p></li>
<li><p>The command-line compiler now displays a text mode progress bar
during the compilation and link phases.</p></li>
<li><p>The compiler no longer generates dispatch coloring information in
Emacs Lisp format by default. When it is needed, it can still be
requested by supplying the <code class="docutils literal notranslate"><span class="pre">-dispatch-coloring</span> <span class="pre">elisp</span></code> command-line
option at build time. (Note that the IDE dispatch coloring display
does not make use of the elisp-format files.)</p></li>
<li><p>The LLVM back-end now tracks function inlining in generated debug
information, allowing breakpoints to be set in inlined code. (Note,
however, that functions inlined from the <code class="docutils literal notranslate"><span class="pre">dylan</span></code> library are
excluded.)</p></li>
<li><p>The HARP back-end is no longer supported on x86 Linux because it is
not able to maintain the stack alignment that C code requires on
that platform.</p></li>
<li><p>A bug that prevented the error output of build commands (such as the
linker) from appearing in <code class="file docutils literal notranslate"><span class="pre">build.log</span></code> files and the console output
has been fixed.</p></li>
</ul>
</div>
<div class="section" id="run-time">
<h2>Run-time<a class="headerlink" href="#run-time" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>An error in the LLVM run-time which prevented call-site method
dispatch caches from being used has been fixed. This change
significanly improves the performance of code using the LLVM
back-end.</p></li>
<li><p>Support for <code class="docutils literal notranslate"><span class="pre">apply-mep</span></code> method entry (used for calling a known
method using <a class="reference external" href="https://opendylan.org/books/drm/Function_Application#apply"><code class="xref drm docutils literal notranslate"><span class="pre">apply</span></code></a> when next-methods of the call are known)
was added to the LLVM run-time.</p></li>
<li><p>The interpretation of <code class="docutils literal notranslate"><span class="pre">decode-double-float</span></code> and
<code class="docutils literal notranslate"><span class="pre">encode-double-float</span></code> on 64-bit platforms has changed, so that 32
bits of the <a class="reference external" href="https://opendylan.org/books/drm/Number_Classes#double-float"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;double-float&gt;</span></code></a> value are found in each of the two
<code class="docutils literal notranslate"><span class="pre">&lt;machine-word&gt;</span></code> values. Previously (on 64-bit platforms) the entire
64 bits were placed in one <code class="docutils literal notranslate"><span class="pre">&lt;machine-word&gt;</span></code> and the other contained
zeroes. This change fixes <a class="reference external" href="https://github.com/dylan-lang/opendylan/issues/1254">bug 1254</a>.</p></li>
<li><p>A <a class="reference external" href="https://github.com/dylan-lang/opendylan/issues/1285">problem</a>
with thread exit that could cause thread finalization cycle warnings
from the garbage collector has been fixed.</p></li>
<li><p>The LLVM run-time on 32-bit x86 platforms now clears the x87 stack
when handling exceptions to prevent overflowing the 8-slot FPU
stack.</p></li>
</ul>
</div>
<div class="section" id="platform-support">
<h2>Platform Support<a class="headerlink" href="#platform-support" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>The AArch64 (64-bit ARM) platform is now supported on Linux.</p></li>
<li><p>The 32-bit x86-darwin platform is no longer supported, since macOS 10.15
(Catalina) and later can no longer support running 32-bit
applications.</p></li>
</ul>
</div>
<div class="section" id="ide">
<h2>IDE<a class="headerlink" href="#ide" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>The Visual SourceSafe source control interface for the Windows
environment has been removed.</p></li>
</ul>
</div>
<div class="section" id="corba">
<h2>CORBA<a class="headerlink" href="#corba" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>The Scepter IDL compiler can now <code class="docutils literal notranslate"><span class="pre">#include</span></code> files via symbolic
links.</p></li>
<li><p>Scepter IDL compiler <code class="docutils literal notranslate"><span class="pre">#include</span></code> file open errors are now properly
signaled.</p></li>
<li><p>Problems with Portable Object Adapter shutdown have been fixed.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">TypeCode</span></code> type predefined by Scepter now appears in the
<code class="docutils literal notranslate"><span class="pre">CORBA</span></code> IDL module.</p></li>
<li><p>IDL forward declarations of structures and unions are now properly
supported.</p></li>
<li><p>Typecode marshalling and interpretation has been fixed.</p></li>
<li><p>The CORBA run-time and the IDL compiler now support <code class="docutils literal notranslate"><span class="pre">long</span> <span class="pre">long</span></code>
and <code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">long</span> <span class="pre">long</span></code> types.</p></li>
<li><p>Marshalling of sequences and arrays to <code class="docutils literal notranslate"><span class="pre">&lt;Any&gt;</span></code> pseudo-objects is
now supported by the CORBA run-time.</p></li>
<li><p>The deprecated IOP field <code class="docutils literal notranslate"><span class="pre">requesting_principal</span></code> is now filled in
with a empty octet sequence, fixing interoperability with other
ORBs.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LocateReply</span></code> responses sent from a POA have been fixed.</p></li>
<li><p>The Scepter and CORBA runtime unit tests have been improved.</p></li>
<li><p>The CORBA demo applications have been updated.</p></li>
<li><p>References in the source code to “Functional Developer ORB”
are now updated to “Open Dylan ORB”.</p></li>
</ul>
</div>
<div class="section" id="duim">
<h2>DUIM<a class="headerlink" href="#duim" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>The obsolete <code class="docutils literal notranslate"><span class="pre">GDK_SOLID</span></code> constant is no longer referenced from the
DUIM back-end for GTK.</p></li>
</ul>
</div>
<div class="section" id="gtk">
<h2>GTK<a class="headerlink" href="#gtk" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>The obsolete <code class="docutils literal notranslate"><span class="pre">gdk-pixbuf-gettext</span></code> function is no longer included
in the GTK bindings.</p></li>
<li><p>A type error that prevented GObject casts from working properly has
been fixed.</p></li>
</ul>
</div>
<div class="section" id="debugging">
<h2>Debugging<a class="headerlink" href="#debugging" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>The LLDB debugger support has been updated to work with Python 3.  For more
information, see <a class="reference external" href="https://opendylan.org/documentation/getting-started-cli/debugging-with-gdb-lldb.html">Debugging with GDB or LLDB</a>.</p></li>
</ul>
</div>
<div class="section" id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Dylan Reference Manual links were added to <a class="reference external" href="https://opendylan.org/documentation/intro-dylan/index.html">An Introduction to Dylan</a></p></li>
<li><p>Index sections were added to <a class="reference external" href="https://opendylan.org/documentation/getting-started-ide/index.html">Getting Started with the Open Dylan
IDE</a>,
<a class="reference external" href="https://opendylan.org/documentation/building-with-duim/index.html">Building Applications With DUIM</a>.</p></li>
</ul>
</div>
<div class="section" id="build-system">
<h2>Build System<a class="headerlink" href="#build-system" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>The build system now reliably detects when changes have been made to
Jamfile sources while the environment is running.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">fdmake.pl</span></code> build tool used during bootstrapping was improved
so that it can build multiple libraries for each invocation of
<strong class="program">dylan-compiler</strong>, significantly reducing the time required
to do bootstrap builds.</p></li>
</ul>
</div>
<div class="section" id="library-changes">
<h2>Library Changes<a class="headerlink" href="#library-changes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="dylan-library">
<h3>dylan Library<a class="headerlink" href="#dylan-library" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>A bug that broke <code class="docutils literal notranslate"><span class="pre">limited(&lt;array&gt;)</span></code> instantiation has been fixed.</p></li>
</ul>
</div>
<div class="section" id="common-dylan-library">
<h3>common-dylan Library<a class="headerlink" href="#common-dylan-library" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The simple-io module has been removed.  This module was deprecated in Open
Dylan 2014.1 and is replaced by the simple-format module.</p></li>
<li><p>The performance of the <code class="docutils literal notranslate"><span class="pre">join</span></code> method was improved.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">split</span></code> function now signals an error when called with an empty
separator (e.g., the empty string) or with a separator function that
returns start/end indices that are equal.</p></li>
</ul>
</div>
<div class="section" id="io-library">
<h3>io Library<a class="headerlink" href="#io-library" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>A longstanding bug in the tab position computation used by the
<code class="docutils literal notranslate"><span class="pre">pprint-tab</span></code> function is now fixed.</p></li>
<li><p>The unit tests for the pprint and print modules were improved.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*print-escape?*</span></code> and the <code class="docutils literal notranslate"><span class="pre">escape?</span></code> parameter for the <code class="docutils literal notranslate"><span class="pre">print</span></code> function
have been documented.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">printing-object</span></code> macro has been documented.</p></li>
</ul>
</div>
<div class="section" id="system-library">
<h3>system Library<a class="headerlink" href="#system-library" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Library initialization under the LLVM back-end has been changed to
enable using the <code class="docutils literal notranslate"><span class="pre">load-library</span></code> function on all supported
platforms.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">load-library</span></code> function will now signal an <a class="reference external" href="https://opendylan.org/books/drm/Condition_Classes#error"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;error&gt;</span></code></a> if it fails.</p></li>
<li><p>A <a class="reference external" href="https://github.com/dylan-lang/opendylan/issues/1227">bug in delete-directory:file-system:system</a> was fixed.</p></li>
<li><p>A <a class="reference external" href="https://github.com/dylan-lang/opendylan/issues/1284">bug</a> that
prevented file open failures from being detected on 64-bit platforms
has been fixed.</p></li>
<li><p>A bug that affected the <code class="docutils literal notranslate"><span class="pre">file-type</span></code> function on macOS has been fixed.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">run-application:operating-system:system</span></code> function has changed to
accept the command as a <a class="reference external" href="https://opendylan.org/books/drm/Collection_Classes#sequence"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;sequence&gt;</span></code></a> instead of a limited type.  This
simplifies the specification of the command at the call site.</p></li>
<li><p>There have been several improvements to the <code class="docutils literal notranslate"><span class="pre">locators</span></code> module:</p>
<ul>
<li><p>Locators always show the path when printed, for improved debugging.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">simplify-locator</span></code> now resolves <code class="docutils literal notranslate"><span class="pre">..</span></code> correctly.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">resolve-locator</span></code> function has been added. It is similar to
<code class="docutils literal notranslate"><span class="pre">simplify-locator</span></code> but also resolves links in the file system.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">merge-locators</span></code> now correctly handles merging a directory locator from a
file locator that has no directory component. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">merge</span><span class="o">-</span><span class="n">locators</span><span class="p">(</span><span class="k">as</span><span class="p">(</span><span class="o">&lt;</span><span class="n">directory</span><span class="o">-</span><span class="n">locator</span><span class="o">&gt;</span><span class="p">,</span> <span class="s2">&quot;a/&quot;</span><span class="p">),</span>
               <span class="k">as</span><span class="p">(</span><span class="o">&lt;</span><span class="n">file</span><span class="o">-</span><span class="n">locator</span><span class="o">&gt;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">))</span>
  <span class="o">=&gt;</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">file</span><span class="o">-</span><span class="n">locator</span><span class="o">&gt;</span> <span class="s2">&quot;a/b&quot;</span><span class="p">}</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">merge-locators</span></code> no longer calls <code class="docutils literal notranslate"><span class="pre">simplify-locator</span></code>. Because the
semantics of simplifying a locator depend on whether or not the file system
is checked (i.e., <code class="docutils literal notranslate"><span class="pre">simplify-locator</span></code> vs <code class="docutils literal notranslate"><span class="pre">resolve-locator</span></code>) it is left
to end-user code to decide whether and how to do it.</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="c-ffi-library">
<h3>c-ffi Library<a class="headerlink" href="#c-ffi-library" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The import mapping for types such as <code class="docutils literal notranslate"><span class="pre">&lt;C-int&gt;</span></code> has been changed to
return a <code class="docutils literal notranslate"><span class="pre">&lt;abstract-integer&gt;</span></code> (as per the original design) rather
than <code class="docutils literal notranslate"><span class="pre">&lt;machine-word&gt;</span></code>. The Win32 and OLE interface libraries were
modified to accommodate this change.</p></li>
<li><p>LLVM code generation for C-FFI code that requires type casting or
sign extension has been fixed.</p></li>
</ul>
</div>
<div class="section" id="network-library">
<h3>network library<a class="headerlink" href="#network-library" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>A deadlock that occurred when shutting down listening socket threads
has been fixed.</p></li>
<li><p>Error code generation on BSD operating systems has been fixed.</p></li>
</ul>
</div>
<div class="section" id="testworks-library">
<h3>testworks Library<a class="headerlink" href="#testworks-library" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>A new executable library, testworks-run, can be used to run any test library
compiled as a shared library. On Linux, <code class="docutils literal notranslate"><span class="pre">testworks-run</span> <span class="pre">--load</span>
<span class="pre">libmy-test-library.so</span></code>.</p></li>
<li><p>The testworks-specs library has been folded into testworks and has been
greatly simplified. See <a class="reference external" href="https://opendylan.org/documentation/testworks/usage.html#interface-specification-suites">Interface Specification Suites</a>. Note
that the new specification suites no longer expect you to define one test per
exported name in your interface module. Instead you can write tests in
whatever way best suits your needs and the interface specification suite only
verifies that the specification matches the implementation.</p></li>
<li><p>A new function has been added to retrieve a unique directory for the current
test: <a class="reference external" href="https://opendylan.org/documentation/testworks/reference.html#testworks:testworks:test-temp-directory">test-temp-directory</a></p></li>
<li><p>The <cite>–report</cite> command line option now accepts “full” as a value, meaning to
display individual assertion results in addition to the normal output.</p></li>
<li><p>Support for benchmarks has been improved. A new <code class="docutils literal notranslate"><span class="pre">benchmark-repeat</span></code>
macro for use within testworks runs its body multiple times, causing
the “full” report to display basic statistics characterizing the
benchmark execution.</p></li>
<li><p>The output for several assertions has been made less verbose.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">--report</span> <span class="pre">json</span></code> to generate reports in JSON format. These are much like
the XML reports but less verbose.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--report</span> <span class="pre">log</span></code> has been removed. Use <code class="docutils literal notranslate"><span class="pre">--report</span> <span class="pre">json</span></code> or <code class="docutils literal notranslate"><span class="pre">--report</span> <span class="pre">xml</span></code>
instead.</p></li>
<li><p>The <cite>testworks-report</cite> library has received some love and is now able to parse
json and xml reports.</p></li>
<li><p>An error is signalled if two tests are defined with the same name. (Note that
when using combined test suites, or using the <code class="docutils literal notranslate"><span class="pre">--load</span></code> testworks-run option
multiple times the names of <strong>all</strong> loaded tests and suites must be unique.)</p></li>
<li><p>When a test has no assertions it receives a “not implemented” result. This is
now considered to be a passing result rather than failing. The reasoning is
that “not implemented” should be a reminder to implement the test (so it is
still displayed prominently in the test output) but it should not obscure
real test failures in the results. Tests that fail constantly because they’re
unimplemented are not very useful.</p></li>
</ul>
</div>
<div class="section" id="collections-library">
<h3>collections Library<a class="headerlink" href="#collections-library" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>A warning displayed when compiling the collections library with the
LLVM back-end has been fixed.</p></li>
</ul>
</div>
<div class="section" id="big-integers-library">
<h3>big-integers library<a class="headerlink" href="#big-integers-library" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">integer-length</span></code> function is now implemented for <code class="docutils literal notranslate"><span class="pre">&lt;double-integer&gt;</span></code>.</p></li>
</ul>
</div>
<div class="section" id="progress-stream-library">
<h3>progress-stream library<a class="headerlink" href="#progress-stream-library" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://opendylan.org/documentation/library-reference/progress-stream/index.html">A new library</a>
for displaying text mode progress bars is provided.</p></li>
</ul>
</div>
<div class="section" id="gabriel-benchmarks-library">
<h3>gabriel-benchmarks library<a class="headerlink" href="#gabriel-benchmarks-library" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The Gabriel benchmarks have been improved and brought in line with
the Common Lisp <a class="reference external" href="https://gitlab.common-lisp.net/ansi-test/cl-bench">cl-bench</a> project, and
now make use of the Testworks benchmarking facilities.</p></li>
</ul>
</div>
</div>
<div class="section" id="contributors">
<h2>Contributors<a class="headerlink" href="#contributors" title="Permalink to this headline">¶</a></h2>
<p>We’d like to thank all the people that made contributions to this release and
to surrounding libraries in the Dylan ecosystem. This list is probably
incomplete…</p>
<ul class="simple">
<li><p>Peter S. Housel</p></li>
<li><p>Carl Gay</p></li>
<li><p>Peter Hull</p></li>
<li><p>Fernando Raya</p></li>
<li><p>Tim McNamara</p></li>
<li><p>Alfredo Beaumont</p></li>
<li><p>Bruce Mitchener</p></li>
</ul>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="2022.1.html" class="btn btn-neutral float-left" title="Open Dylan 2022.1" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="2019.1.html" class="btn btn-neutral float-right" title="Open Dylan 2019.1" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2012-2023, Dylan Hackers.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>