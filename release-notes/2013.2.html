
<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Open Dylan 2013.2 Release Notes &mdash; Open Dylan Release Notes</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="_static/opendylan.org/css/opendylan-docs.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Open Dylan 2013.1 Release Notes" href="2013.1.html" />
    <link rel="prev" title="Open Dylan 2014.1 Release Notes" href="2014.1.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Open Dylan Release Notes
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="2023.1.html">Open Dylan 2023.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="2022.1.html">Open Dylan 2022.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="2020.1.html">Open Dylan 2020.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="2019.1.html">Open Dylan 2019.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="2014.1.html">Open Dylan 2014.1 Release Notes</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Open Dylan 2013.2 Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#improvements">Improvements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#documentation">Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-tools">Build Tools</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#architectures">Architectures</a></li>
<li class="toctree-l4"><a class="reference internal" href="#error-reporting">Error Reporting</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#libraries">Libraries</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#common-dylan">common-dylan</a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-line-parser">command-line-parser</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dylan-extensions">dylan-extensions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hash-algorithms">hash-algorithms</a></li>
<li class="toctree-l4"><a class="reference internal" href="#i-o">I/O</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2">logging</a></li>
<li class="toctree-l4"><a class="reference internal" href="#network">network</a></li>
<li class="toctree-l4"><a class="reference internal" href="#runtime">runtime</a></li>
<li class="toctree-l4"><a class="reference internal" href="#system">System</a></li>
<li class="toctree-l4"><a class="reference internal" href="#testworks">Testworks</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#bug-fixes">Bug Fixes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id3">Common Dylan</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="2013.1.html">Open Dylan 2013.1 Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="2012.1.html">Open Dylan 2012.1 Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="2011.1.html">Open Dylan 2011.1 Release Notes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Open Dylan Release Notes</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Open Dylan 2013.2 Release Notes</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/2013.2.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="open-dylan-2013-2-release-notes">
<h1>Open Dylan 2013.2 Release Notes<a class="headerlink" href="#open-dylan-2013-2-release-notes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>This document describes the 2013.2 release of Open Dylan, released
December 23, 2013.</p>
<ul class="simple">
<li><p><a class="reference external" href="http://opendylan.org/download/index.html">Download the release</a></p></li>
<li><p><a class="reference external" href="https://github.com/dylan-lang/opendylan/issues">Report bugs</a></p></li>
<li><p><a class="reference external" href="https://github.com/dylan-lang/opendylan/tree/v2013.2">Source code</a></p></li>
</ul>
</div>
<div class="section" id="improvements">
<h2>Improvements<a class="headerlink" href="#improvements" title="Permalink to this headline">¶</a></h2>
<div class="section" id="documentation">
<h3>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference external" href="http://opendylan.org/documentation/library-reference/logging/">logging</a> library has been documented.</p>
<p>The <a class="reference external" href="http://opendylan.org/documentation/library-reference/regular-expressions/index.html">regular-expressions</a> library documentation has been greatly improved.</p>
<p>The <a class="reference external" href="http://opendylan.org/documentation/library-reference/system/date.html">date</a> module documentation has been improved and now covers date formatting and parsing.</p>
<p>The <a class="reference external" href="http://opendylan.org/documentation/library-reference/c-ffi/">C-FFI</a> library now discusses <a class="reference external" href="http://opendylan.org/documentation/library-reference/c-ffi/#notes-on-linking">linking against a library</a> rather than assuming that people will find the LID file documentation. <a class="reference external" href="http://opendylan.org/documentation/library-reference/c-ffi/#tracing-ffi-calls">Tracing FFI calls</a> has also been documented.</p>
</div>
<div class="section" id="build-tools">
<h3>Build Tools<a class="headerlink" href="#build-tools" title="Permalink to this headline">¶</a></h3>
<div class="section" id="architectures">
<h4>Architectures<a class="headerlink" href="#architectures" title="Permalink to this headline">¶</a></h4>
<p>Our configure script now supports the multiarch layout used on recent Debian systems.</p>
<p><code class="docutils literal notranslate"><span class="pre">OPEN_DYLAN_PLATFORM_NAME</span></code> is now <code class="docutils literal notranslate"><span class="pre">OPEN_DYLAN_TARGET_PLATFORM</span></code> to make
the intent more clear. Additionally, this value is available to Jam as
<code class="docutils literal notranslate"><span class="pre">TARGET_NAME</span></code>.</p>
<p>Cross-compilation by setting <code class="docutils literal notranslate"><span class="pre">OPEN_DYLAN_TARGET_PLATFORM</span></code> in the environment
is also improved, so long as the proper run-time libraries have been built.</p>
</div>
<div class="section" id="error-reporting">
<h4>Error Reporting<a class="headerlink" href="#error-reporting" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">dylan-compiler</span></code> now reports more information about circular references.
Before, it reported:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>.../opendylan/sources/dylan/multidimensional-array.dylan:19: Warning - The definition of $empty-dimensions is circular.
      ---------------------------------------------------------------
      define constant $empty-dimensions = make(&lt;dimensions&gt;, size: 0);
      ---------------------------------------------------------------
</pre></div>
</div>
<p>Now, it reports:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>.../opendylan/sources/dylan/multidimensional-array.dylan:19: Warning - The definition of $empty-dimensions is circular among the following:
#({ define method size (object :: {&lt;simple-single-float-array&gt; in dylan-extensions}, #next next-method) =&gt; (size :: &lt;integer&gt;) ... end }, { define constant $empty-dimensions }, { define method size (object :: {&lt;simple-object-array&gt; in internal}, #next next-method) =&gt; (size :: &lt;integer&gt;) ... end }, { define method &lt;implementation-class&gt; constructor (class :: &lt;class&gt;, #next next-method, #rest init-args, #key ..., #all-keys) =&gt; (object :: {&lt;implementation-class&gt; in dylan-extensions}) ... end }, { (implicit) define generic &lt;implementation-class&gt; constructor (class, #key ...) =&gt; (#rest results) })
      ---------------------------------------------------------------
      define constant $empty-dimensions = make(&lt;dimensions&gt;, size: 0);
      ---------------------------------------------------------------
</pre></div>
</div>
</div>
</div>
<div class="section" id="libraries">
<h3>Libraries<a class="headerlink" href="#libraries" title="Permalink to this headline">¶</a></h3>
<div class="section" id="common-dylan">
<h4>common-dylan<a class="headerlink" href="#common-dylan" title="Permalink to this headline">¶</a></h4>
<p>A new module <code class="docutils literal notranslate"><span class="pre">simple-timers</span></code> has been added. This replaces the old
primitives <code class="docutils literal notranslate"><span class="pre">primitive-start-timer</span></code> and <code class="docutils literal notranslate"><span class="pre">primitive-stop-timer</span></code>
which have been removed.</p>
<p><code class="docutils literal notranslate"><span class="pre">byte-storage-address</span></code> and <code class="docutils literal notranslate"><span class="pre">byte-storage-offset-address</span></code> functions
have been added for passing byte storage data to the C-FFI. These are
implemented for <code class="docutils literal notranslate"><span class="pre">&lt;byte-string&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;byte-vector&gt;</span></code>, and <code class="docutils literal notranslate"><span class="pre">&lt;buffer&gt;</span></code>.</p>
</div>
<div class="section" id="command-line-parser">
<h4>command-line-parser<a class="headerlink" href="#command-line-parser" title="Permalink to this headline">¶</a></h4>
<p>Two new init keywords have been added to the <code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;command-line-parser&gt;</span></code>
class: <code class="docutils literal notranslate"><span class="pre">min-positional-options:</span></code> and <code class="docutils literal notranslate"><span class="pre">max-positional-options:</span></code>.</p>
</div>
<div class="section" id="dylan-extensions">
<h4>dylan-extensions<a class="headerlink" href="#dylan-extensions" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">debug-name</span></code> method now has a specialization for <code class="docutils literal notranslate"><span class="pre">&lt;slot-descriptor&gt;</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">debug-message</span></code> method is now a function and doesn’t perform any
generic dispatch, making it safe to use it almost anywhere, including
within the dispatch code.</p>
</div>
<div class="section" id="hash-algorithms">
<h4>hash-algorithms<a class="headerlink" href="#hash-algorithms" title="Permalink to this headline">¶</a></h4>
<p>A hash algorithms library has been added that supports the MD5, SHA-1, SHA256,
SHA384, and SHA512 algorithms. <a class="reference external" href="http://opendylan.org/documentation/library-reference/hash-algorithms/">Documentation</a>
is available. This library was written by Hannes Mehnert.</p>
</div>
<div class="section" id="i-o">
<h4>I/O<a class="headerlink" href="#i-o" title="Permalink to this headline">¶</a></h4>
<p>Streams no longer default to having a lock, and the library as a whole
no longer attempts to be thread-safe by default. If you need thread safety
for a stream, use <code class="docutils literal notranslate"><span class="pre">with-stream-locked</span></code> at the application level to
ensure that a stream is not accessed simultaneously from multiple threads.
<code class="docutils literal notranslate"><span class="pre">format-out</span></code> and the new <code class="docutils literal notranslate"><span class="pre">force-out</span></code> lock <code class="docutils literal notranslate"><span class="pre">*standard-output*</span></code> so
that they are still thread-safe.</p>
<p>A function <code class="docutils literal notranslate"><span class="pre">stream-console?</span></code> has been added to the <code class="docutils literal notranslate"><span class="pre">&lt;file-stream&gt;</span></code> class,
this can be used to determine whether console output has been directed to a
file.</p>
<p>A new method <code class="docutils literal notranslate"><span class="pre">force-out</span></code> has been added to the <code class="docutils literal notranslate"><span class="pre">format-out</span></code> module.
This method allows avoiding to import the <code class="docutils literal notranslate"><span class="pre">streams</span></code> and <code class="docutils literal notranslate"><span class="pre">standard-io</span></code>
modules when all you want is to flush the stream corresponding to
<code class="docutils literal notranslate"><span class="pre">format-out</span></code>.</p>
<p>I/O buffering has been improved on non-Windows platforms. It now defaults
to buffering 16k instead of 512 bytes. This leads to some substantial
compile time improvements on hosts with slow drives.</p>
</div>
<div class="section" id="id2">
<h4>logging<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<p>The logging library is now part of Open Dylan.  This means it is no
longer necessary to add it as a git submodule in your project’s
sources and set up a registry entry in order to use it.</p>
</div>
<div class="section" id="network">
<h4>network<a class="headerlink" href="#network" title="Permalink to this headline">¶</a></h4>
<p>The bindings <code class="docutils literal notranslate"><span class="pre">$local-host</span></code> and <code class="docutils literal notranslate"><span class="pre">$loopback-address</span></code> have been removed.
The function <code class="docutils literal notranslate"><span class="pre">local-host-name</span></code> is now provided which returns the host name.
The main reason for this change was ongoing confusion by the way the network
library initialized itself (calling <code class="docutils literal notranslate"><span class="pre">gethostname</span></code> and passing its result
to <code class="docutils literal notranslate"><span class="pre">gethostbyname</span></code>, which does not work on all computers).</p>
</div>
<div class="section" id="runtime">
<h4>runtime<a class="headerlink" href="#runtime" title="Permalink to this headline">¶</a></h4>
<p>The C runtime will now use compiler primitives for the primitives
<code class="docutils literal notranslate"><span class="pre">primitive-machine-word-count-low-zeros</span></code> and
<code class="docutils literal notranslate"><span class="pre">primitive-machine-word-count-high-zeros</span></code>.</p>
</div>
<div class="section" id="system">
<h4>System<a class="headerlink" href="#system" title="Permalink to this headline">¶</a></h4>
<p>Two new functions have been added: <code class="docutils literal notranslate"><span class="pre">current-process-id</span></code> and
<code class="docutils literal notranslate"><span class="pre">parent-process-id</span></code>.  On Unix these are equivalent to <code class="docutils literal notranslate"><span class="pre">getpid</span></code> and
<code class="docutils literal notranslate"><span class="pre">getppid</span></code> respectively.  On Windows they are equivalent to
<code class="docutils literal notranslate"><span class="pre">GetCurrentProcessId</span></code> and <code class="docutils literal notranslate"><span class="pre">method</span> <span class="pre">()</span> <span class="pre">0</span> <span class="pre">end</span></code> respectively.</p>
</div>
<div class="section" id="testworks">
<h4>Testworks<a class="headerlink" href="#testworks" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>The documentation has been largely rewritten.  Only names exported
from the <code class="docutils literal notranslate"><span class="pre">testworks</span></code> module are documented.</p></li>
<li><p>New assert-* macros replace the check-* macros, which are now
deprecated.  The assert-* macros make the assertion description
optional and if it isn’t provided they use a description based on
the printed representation of the argument expressions.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">assert-equal</span></code> shows some additional details about why collections
failed to match.  (There are still improvements to be made here.)
There is also a new <code class="docutils literal notranslate"><span class="pre">assert-not-equal</span></code> macro.</p></li>
<li><p>There are several new command-line options:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">--list-suites</span></code> to list suite names.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--list-tests</span></code> to list test names.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--report-file</span></code> to output the report to a file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--skip-suite</span></code> used to be named <code class="docutils literal notranslate"><span class="pre">--ignore-suite</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--skip-test</span></code> used to be named <code class="docutils literal notranslate"><span class="pre">--ignore-test</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--tag</span></code> to run tests matching specific tags.</p></li>
</ul>
</li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">--progress</span></code> flag now accepts options “none”, “default” (the
default), and “verbose”.  The default output format is to show
suites and tests but not assertions, since they tend to be extremely
verbose.  Use <code class="docutils literal notranslate"><span class="pre">--progress=verbose</span></code> if you prefer to see assertion
output.</p></li>
<li><p>Benchmarks have been removed.  Instead, timing and allocation stats
are automatically recorded for all tests.  Relatedly, the
<code class="docutils literal notranslate"><span class="pre">--profile</span></code> option has been removed.</p></li>
<li><p>The Testworks code has been simplified and overhauled in general.</p></li>
<li><p>There is a new report format, “surefire”, which outputs Surefire
XML, for use with Jenkins.  (This was in 2013.1 but there was no
release note.)</p></li>
</ul>
</div>
</div>
</div>
<div class="section" id="bug-fixes">
<h2>Bug Fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id3">
<h3>Common Dylan<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">application-arguments()</span></code> will now work on <code class="docutils literal notranslate"><span class="pre">x86_64-darwin</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">debug-message()</span></code> function will now work around a possible clang compiler
issue that causes a crash when printing integers.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="2014.1.html" class="btn btn-neutral float-left" title="Open Dylan 2014.1 Release Notes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="2013.1.html" class="btn btn-neutral float-right" title="Open Dylan 2013.1 Release Notes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2012-2023, Dylan Hackers.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>