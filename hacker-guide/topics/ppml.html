
<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The PPML library &mdash; Open Dylan Hacker&#39;s Guide</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../_static/opendylan.org/css/opendylan-docs.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="Release Check-list" href="making-a-release.html" />
    <link rel="prev" title="Porting to a New Target Platform" href="porting.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Open Dylan Hacker's Guide
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../documentation/index.html">Writing Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build-system.html">Jam-based Build System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compiler/index.html">DFMC, The Dylan Flow Machine Compiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../runtime/index.html">The Runtime</a></li>
<li class="toctree-l1"><a class="reference internal" href="../runtime-manager/index.html">Runtime Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../duim/index.html">DUIM - Dylan User Interface Manager</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Topics</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="method-dispatch.html">Method Dispatch</a></li>
<li class="toctree-l2"><a class="reference internal" href="debugging.html">Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="porting.html">Porting to a New Target Platform</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">The PPML library</a></li>
<li class="toctree-l2"><a class="reference internal" href="making-a-release.html">Release Check-list</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../copyright.html">Copyright</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Open Dylan Hacker's Guide</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Topics</a></li>
      <li class="breadcrumb-item active">The PPML library</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/topics/ppml.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="the-ppml-library">
<h1>The PPML library<a class="headerlink" href="#the-ppml-library" title="Permalink to this headline">¶</a></h1>
<p>Program notes need to be stored and later displayed in browsers.  This
presents us with two problems.  At the point of creation we have no way of
knowing  the column width that will be used when the note is displayed.
There may even be more than one width if we want to be smart when a browser
window is resized.  A second problem arises if we store a program note in
the form of a condition string + arguments and the arguments are context
sensitive.  We could just save everything as a string, but then the logical
structure of the message is lost.  An alternative is to store the text in
a more structured form.  This is the purpose of the <a class="reference internal" href="#ppml:ppml:[ppml]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml&gt;</span></code></a> class
and its derivatives.   The interface is based on Oppen’s 1980 TOPLAS paper.</p>
<p>A PPML document, represented as <a class="reference internal" href="#ppml:ppml:[ppml]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml&gt;</span></code></a> is a tree of PPML tokens.
The tokens available and their associated constructor functions are:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ppml:ppml:[ppml-block]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml-block&gt;</span></code></a> (<a class="reference internal" href="#ppml:ppml:ppml-block"><code class="xref dylan dylan-func docutils literal notranslate"><span class="pre">ppml-block</span></code></a>)</p></li>
<li><p><a class="reference internal" href="#ppml:ppml:[ppml-break]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml-break&gt;</span></code></a> (<a class="reference internal" href="#ppml:ppml:ppml-break"><code class="xref dylan dylan-func docutils literal notranslate"><span class="pre">ppml-break</span></code></a>)</p></li>
<li><p><a class="reference internal" href="#ppml:ppml:[ppml-browser-aware-object]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml-browser-aware-object&gt;</span></code></a> (<a class="reference internal" href="#ppml:ppml:ppml-browser-aware-object"><code class="xref dylan dylan-func docutils literal notranslate"><span class="pre">ppml-browser-aware-object</span></code></a>)</p></li>
<li><p><a class="reference internal" href="#ppml:ppml:[ppml-separator-block]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml-separator-block&gt;</span></code></a> (<a class="reference internal" href="#ppml:ppml:ppml-separator-block"><code class="xref dylan dylan-func docutils literal notranslate"><span class="pre">ppml-separator-block</span></code></a>)</p></li>
<li><p><a class="reference internal" href="#ppml:ppml:[ppml-string]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml-string&gt;</span></code></a> (<a class="reference internal" href="#ppml:ppml:ppml-string"><code class="xref dylan dylan-func docutils literal notranslate"><span class="pre">ppml-string</span></code></a>)</p></li>
<li><p><a class="reference internal" href="#ppml:ppml:[ppml-suspension]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml-suspension&gt;</span></code></a> (<a class="reference internal" href="#ppml:ppml:ppml-suspension"><code class="xref dylan dylan-func docutils literal notranslate"><span class="pre">ppml-suspension</span></code></a>)</p></li>
</ul>
<p>Structure is provided through instances of <a class="reference internal" href="#ppml:ppml:[ppml-block]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml-block&gt;</span></code></a> and
<a class="reference internal" href="#ppml:ppml:[ppml-separator-block]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml-separator-block&gt;</span></code></a> as they can contain subnodes of PPML.</p>
<div class="section" id="constructing-a-ppml-document">
<h2>Constructing a PPML Document<a class="headerlink" href="#constructing-a-ppml-document" title="Permalink to this headline">¶</a></h2>
<p>Constructing a PPML document is typically done by using the various
constructor functions:</p>
<div class="highlight-dylan notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="nb">compiler-sideways</span> <span class="nb">method</span> <span class="nb">as</span>
    <span class="p">(</span><span class="nb">class</span> <span class="o">==</span> <span class="nc">&lt;ppml&gt;</span><span class="p">,</span> <span class="n">o</span> <span class="p">::</span> <span class="nc">&lt;&amp;generic-function&gt;</span><span class="p">)</span>
 <span class="p">=&gt;</span> <span class="p">(</span><span class="n">ppml</span> <span class="p">::</span> <span class="nc">&lt;ppml&gt;</span><span class="p">)</span>
  <span class="k">let</span> <span class="n">sig</span> <span class="o">=</span> <span class="n">model-signature</span><span class="p">(</span><span class="n">o</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">sig</span><span class="p">)</span>
    <span class="n">ppml-block</span><span class="p">(</span><span class="nb">vector</span><span class="p">(</span><span class="n">ppml-string</span><span class="p">(</span><span class="n">o</span><span class="p">.</span><span class="n">^function-name</span><span class="p">),</span>
                      <span class="n">ppml-break</span><span class="p">(),</span>
                      <span class="nb">as</span><span class="p">(</span><span class="nc">&lt;ppml&gt;</span><span class="p">,</span> <span class="n">sig</span><span class="p">)))</span>
  <span class="k">else</span>
    <span class="n">ppml-string</span><span class="p">(</span><span class="n">o</span><span class="p">.</span><span class="n">^function-name</span><span class="p">)</span>
  <span class="k">end</span><span class="p">;</span>
<span class="k">end</span> <span class="nb">method</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="printing-a-ppml-document">
<h2>Printing a PPML Document<a class="headerlink" href="#printing-a-ppml-document" title="Permalink to this headline">¶</a></h2>
<p>Given a PPML document, the best way to print it is via <a class="reference internal" href="#ppml:ppml:ppml-print"><code class="xref dylan dylan-gf docutils literal notranslate"><span class="pre">ppml-print</span></code></a>:</p>
<div class="highlight-dylan notranslate"><div class="highlight"><pre><span></span><span class="n">ppml-print</span><span class="p">(</span><span class="n">ppml</span><span class="p">,</span> <span class="nb">make</span><span class="p">(</span><span class="nc">&lt;ppml-printer&gt;</span><span class="p">,</span> <span class="k">margin:</span> <span class="mi">100</span><span class="p">));</span>
</pre></div>
</div>
</div>
<div class="section" id="the-ppml-module">
<h2>The PPML module<a class="headerlink" href="#the-ppml-module" title="Permalink to this headline">¶</a></h2>
<div class="section" id="ppml-tokens-and-constructors">
<h3>PPML Tokens and Constructors<a class="headerlink" href="#ppml-tokens-and-constructors" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt class="dylan-api" id="ppml:ppml:[ppml]">
<code class="sig-name descname">&lt;ppml&gt;</code> <em class="property">Abstract Class</em><a class="headerlink" href="#ppml:ppml:[ppml]" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Superclasses</dt>
<dd class="field-odd"><p><a class="reference external" href="https://opendylan.org/books/drm/Object_Classes#object"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;object&gt;</span></code></a></p>
</dd>
<dt class="field-even">Discussion</dt>
<dd class="field-even"><p>The abstract base class for all PPML tokens.</p>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt class="dylan-api" id="ppml:ppml:[ppml-block]">
<code class="sig-name descname">&lt;ppml-block&gt;</code> <em class="property">Class</em><a class="headerlink" href="#ppml:ppml:[ppml-block]" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Superclasses</dt>
<dd class="field-odd"><p><a class="reference internal" href="#ppml:ppml:[ppml]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml&gt;</span></code></a></p>
</dd>
<dt class="field-even">Init-Keywords</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>break-type</strong> – An instance of <a class="reference internal" href="#ppml:ppml:[ppml-break-type]"><code class="xref dylan dylan-type docutils literal notranslate"><span class="pre">&lt;ppml-break-type&gt;</span></code></a>.</p></li>
<li><p><strong>constituents</strong> – An instance of <a class="reference internal" href="#ppml:ppml:[ppml-sequence]"><code class="xref dylan dylan-type docutils literal notranslate"><span class="pre">&lt;ppml-sequence&gt;</span></code></a>.</p></li>
<li><p><strong>offset</strong> – An instance of <a class="reference internal" href="#ppml:ppml:[nat]"><code class="xref dylan dylan-type docutils literal notranslate"><span class="pre">&lt;nat&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-odd">Discussion</dt>
<dd class="field-odd"><p><p>To add structure to the output, we can package up a sequence
of tokens into a block.  There are a couple of attributes
associated with a block.  The <em>offset</em> indicates how much
to indent subsequent lines of the block if a break is
necessary.  When a block is longer than a line then we have
a number of options.  We can display as much on each line as
possible, only breaking when really necessary.  Alternatively,
we can break the block at each break point, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">aaa</span>             <span class="n">aaa</span> <span class="n">bbb</span>
<span class="n">bbb</span>             <span class="n">ccc</span> <span class="n">ddd</span>
<span class="n">ccc</span>
<span class="n">ddd</span>
</pre></div>
</div>
<p>The choice of layout depends on whether the <em>break-type</em>
attribute of the block is <code class="docutils literal notranslate"><span class="pre">#&quot;consistent&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">#&quot;inconsistent&quot;</span></code>.
The third alternative is <code class="docutils literal notranslate"><span class="pre">#&quot;fit&quot;</span></code>. This suppresses all breaks
and truncates the output if it won’t fit on a line.</p>
<p>The size of the block is cached in the block for efficiency.</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt class="dylan-api" id="ppml:ppml:ppml-block">
<code class="sig-name descname">ppml-block</code> <em class="property">Function</em><a class="headerlink" href="#ppml:ppml:ppml-block" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Signature</dt>
<dd class="field-odd"><p>ppml-block (constituents #key offset type) =&gt; (ppml)</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>constituents</strong> – An instance of <a class="reference internal" href="#ppml:ppml:[ppml-sequence]"><code class="xref dylan dylan-type docutils literal notranslate"><span class="pre">&lt;ppml-sequence&gt;</span></code></a>.</p></li>
<li><p><strong>offset</strong> (<em>#key</em>) – An instance of <a class="reference internal" href="#ppml:ppml:[nat]"><code class="xref dylan dylan-type docutils literal notranslate"><span class="pre">&lt;nat&gt;</span></code></a>.</p></li>
<li><p><strong>type</strong> (<em>#key</em>) – An instance of <a class="reference internal" href="#ppml:ppml:[ppml-break-type]"><code class="xref dylan dylan-type docutils literal notranslate"><span class="pre">&lt;ppml-break-type&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-odd">Values</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ppml</strong> – An instance of <a class="reference internal" href="#ppml:ppml:[ppml-block]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml-block&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Discussion</dt>
<dd class="field-even"><p>Construct a <a class="reference internal" href="#ppml:ppml:[ppml-block]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml-block&gt;</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt class="dylan-api" id="ppml:ppml:[ppml-break]">
<code class="sig-name descname">&lt;ppml-break&gt;</code> <em class="property">Class</em><a class="headerlink" href="#ppml:ppml:[ppml-break]" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Superclasses</dt>
<dd class="field-odd"><p><a class="reference internal" href="#ppml:ppml:[ppml]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml&gt;</span></code></a></p>
</dd>
<dt class="field-even">Init-Keywords</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>blank-space</strong> – An instance of <a class="reference internal" href="#ppml:ppml:[nat]"><code class="xref dylan dylan-type docutils literal notranslate"><span class="pre">&lt;nat&gt;</span></code></a>.</p></li>
<li><p><strong>offset</strong> – An instance of <a class="reference internal" href="#ppml:ppml:[nat]"><code class="xref dylan dylan-type docutils literal notranslate"><span class="pre">&lt;nat&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-odd">Discussion</dt>
<dd class="field-odd"><p>A <code class="docutils literal notranslate"><span class="pre">&lt;ppml-break&gt;</span></code> indicates a position in the output where it is
permissible to break the output if it won’t fit on a single line.
If we don’t need to break the line then we output blank-space spaces.
If we do need to break then we indent offset spaces relative to the
current line indent.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt class="dylan-api" id="ppml:ppml:ppml-break">
<code class="sig-name descname">ppml-break</code> <em class="property">Function</em><a class="headerlink" href="#ppml:ppml:ppml-break" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Signature</dt>
<dd class="field-odd"><p>ppml-break (#key space offset) =&gt; (ppml)</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>space</strong> (<em>#key</em>) – An instance of <a class="reference internal" href="#ppml:ppml:[nat]"><code class="xref dylan dylan-type docutils literal notranslate"><span class="pre">&lt;nat&gt;</span></code></a>.</p></li>
<li><p><strong>offset</strong> (<em>#key</em>) – An instance of <a class="reference internal" href="#ppml:ppml:[nat]"><code class="xref dylan dylan-type docutils literal notranslate"><span class="pre">&lt;nat&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-odd">Values</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ppml</strong> – An instance of <a class="reference internal" href="#ppml:ppml:[ppml-break]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml-break&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Discussion</dt>
<dd class="field-even"><p>Construct a <a class="reference internal" href="#ppml:ppml:[ppml-break]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml-break&gt;</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt class="dylan-api" id="ppml:ppml:[ppml-browser-aware-object]">
<code class="sig-name descname">&lt;ppml-browser-aware-object&gt;</code> <em class="property">Class</em><a class="headerlink" href="#ppml:ppml:[ppml-browser-aware-object]" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Superclasses</dt>
<dd class="field-odd"><p><a class="reference internal" href="#ppml:ppml:[ppml]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml&gt;</span></code></a></p>
</dd>
<dt class="field-even">Init-Keywords</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>object</strong> – An instance of <a class="reference external" href="https://opendylan.org/books/drm/Object_Classes#object"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;object&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-odd">Discussion</dt>
<dd class="field-odd"><p>The browser “knows” about some of the objects manipulated by
the compiler, e.g. the various kinds of definition, and so
we store these directly.  Furthermore we recompute the ppml
representation of the object every time token-size is called
as the representation may depend on browser settings.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt class="dylan-api" id="ppml:ppml:ppml-browser-aware-object">
<code class="sig-name descname">ppml-browser-aware-object</code> <em class="property">Function</em><a class="headerlink" href="#ppml:ppml:ppml-browser-aware-object" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Signature</dt>
<dd class="field-odd"><p>ppml-browser-aware-object (o) =&gt; (ppml)</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>o</strong> – An instance of <a class="reference external" href="https://opendylan.org/books/drm/Object_Classes#object"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;object&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-odd">Values</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ppml</strong> – An instance of <a class="reference internal" href="#ppml:ppml:[ppml-browser-aware-object]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml-browser-aware-object&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Discussion</dt>
<dd class="field-even"><p>Construct a <a class="reference internal" href="#ppml:ppml:[ppml-browser-aware-object]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml-browser-aware-object&gt;</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt class="dylan-api" id="ppml:ppml:[ppml-separator-block]">
<code class="sig-name descname">&lt;ppml-separator-block&gt;</code> <em class="property">Class</em><a class="headerlink" href="#ppml:ppml:[ppml-separator-block]" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Superclasses</dt>
<dd class="field-odd"><p><a class="reference internal" href="#ppml:ppml:[ppml-block]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml-block&gt;</span></code></a></p>
</dd>
<dt class="field-even">Init-Keywords</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>separator</strong> – An instance of <a class="reference internal" href="#ppml:ppml:[ppml-sequence]"><code class="xref dylan dylan-type docutils literal notranslate"><span class="pre">&lt;ppml-sequence&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-odd">Discussion</dt>
<dd class="field-odd"><p><p>When constructing blocks representing collections it is wasteful
to explicitly store the separators between elements.  The
<a class="reference internal" href="#ppml:ppml:[ppml-separator-block]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml-separator-block&gt;</span></code></a> class captures this common case.</p>
<p>The default value for the <em>separator</em> is
<code class="docutils literal notranslate"><span class="pre">vector(ppml-string(&quot;,&quot;),</span> <span class="pre">ppml-break(space:</span> <span class="pre">1))</span></code>.</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt class="dylan-api" id="ppml:ppml:ppml-separator-block">
<code class="sig-name descname">ppml-separator-block</code> <em class="property">Function</em><a class="headerlink" href="#ppml:ppml:ppml-separator-block" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Signature</dt>
<dd class="field-odd"><p>ppml-separator-block (constituents #key separator offset type left-bracket right-bracket) =&gt; (ppml)</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>constituents</strong> – An instance of <a class="reference internal" href="#ppml:ppml:[ppml-sequence]"><code class="xref dylan dylan-type docutils literal notranslate"><span class="pre">&lt;ppml-sequence&gt;</span></code></a>.</p></li>
<li><p><strong>separator</strong> (<em>#key</em>) – An instance of <a class="reference internal" href="#ppml:ppml:[ppml-sequence]"><code class="xref dylan dylan-type docutils literal notranslate"><span class="pre">&lt;ppml-sequence&gt;</span></code></a>.</p></li>
<li><p><strong>offset</strong> (<em>#key</em>) – An instance of <a class="reference internal" href="#ppml:ppml:[nat]"><code class="xref dylan dylan-type docutils literal notranslate"><span class="pre">&lt;nat&gt;</span></code></a>.</p></li>
<li><p><strong>type</strong> (<em>#key</em>) – An instance of <a class="reference internal" href="#ppml:ppml:[ppml-break-type]"><code class="xref dylan dylan-type docutils literal notranslate"><span class="pre">&lt;ppml-break-type&gt;</span></code></a>.
The default value is <code class="docutils literal notranslate"><span class="pre">#&quot;inconsistent&quot;</span></code>.</p></li>
<li><p><strong>left-bracket</strong> (<em>#key</em>) – An instance of <code class="docutils literal notranslate"><span class="pre">false-or(&lt;ppml&gt;)</span></code>.</p></li>
<li><p><strong>right-bracket</strong> (<em>#key</em>) – An instance of <code class="docutils literal notranslate"><span class="pre">false-or(&lt;ppml&gt;)</span></code>.</p></li>
</ul>
</dd>
<dt class="field-odd">Values</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ppml</strong> – An instance of <a class="reference internal" href="#ppml:ppml:[ppml]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Discussion</dt>
<dd class="field-even"><p>Construct a <a class="reference internal" href="#ppml:ppml:[ppml-separator-block]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml-separator-block&gt;</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt class="dylan-api" id="ppml:ppml:[ppml-string]">
<code class="sig-name descname">&lt;ppml-string&gt;</code> <em class="property">Class</em><a class="headerlink" href="#ppml:ppml:[ppml-string]" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Superclasses</dt>
<dd class="field-odd"><p><a class="reference internal" href="#ppml:ppml:[ppml]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml&gt;</span></code></a></p>
</dd>
<dt class="field-even">Init-Keywords</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>string</strong> – An instance of <a class="reference external" href="https://opendylan.org/books/drm/Collection_Classes#byte-string"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;byte-string&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-odd">Discussion</dt>
<dd class="field-odd"><p>The simplest ppml token is just a string.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt class="dylan-api" id="ppml:ppml:ppml-string">
<code class="sig-name descname">ppml-string</code> <em class="property">Function</em><a class="headerlink" href="#ppml:ppml:ppml-string" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Signature</dt>
<dd class="field-odd"><p>ppml-string (str) =&gt; (ppml)</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>str</strong> – An instance of <a class="reference external" href="https://opendylan.org/books/drm/Collection_Classes#byte-string"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;byte-string&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-odd">Values</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ppml</strong> – An instance of <a class="reference internal" href="#ppml:ppml:[ppml-string]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml-string&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Discussion</dt>
<dd class="field-even"><p>Construct a <a class="reference internal" href="#ppml:ppml:[ppml-string]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml-string&gt;</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt class="dylan-api" id="ppml:ppml:[ppml-suspension]">
<code class="sig-name descname">&lt;ppml-suspension&gt;</code> <em class="property">Class</em><a class="headerlink" href="#ppml:ppml:[ppml-suspension]" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Superclasses</dt>
<dd class="field-odd"><p><a class="reference internal" href="#ppml:ppml:[ppml]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml&gt;</span></code></a></p>
</dd>
<dt class="field-even">Init-Keywords</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>cache-token?</strong> – An instance of <a class="reference external" href="https://opendylan.org/books/drm/Simple_Object_Classes#boolean"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;boolean&gt;</span></code></a>.
The default value is <code class="docutils literal notranslate"><span class="pre">#t</span></code>.</p></li>
<li><p><strong>pair</strong> – Either an instance of <a class="reference internal" href="#ppml:ppml:[ppml]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml&gt;</span></code></a> or
a <a class="reference external" href="https://opendylan.org/books/drm/Collection_Classes#pair"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;pair&gt;</span></code></a> of <a class="reference external" href="https://opendylan.org/books/drm/Function_Classes#function"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;function&gt;</span></code></a> and its arguments.</p></li>
</ul>
</dd>
<dt class="field-odd">Discussion</dt>
<dd class="field-odd"><p>Sometimes it is more space efficient to delay the construction
of the <a class="reference internal" href="#ppml:ppml:[ppml]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml&gt;</span></code></a> equivalent of an object until we need
to print it.  The <a class="reference internal" href="#ppml:ppml:[ppml-suspension]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml-suspension&gt;</span></code></a> class supports this.
It contains either a <a class="reference internal" href="#ppml:ppml:[ppml]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml&gt;</span></code></a> token, or a pair of a function
and its arguments.  When we need a token and encounter the pair we
apply the function to its arguments.  This should return an
instance of <a class="reference internal" href="#ppml:ppml:[ppml]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml&gt;</span></code></a>.  Optionally we can overwrite the
pair by the result.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt class="dylan-api" id="ppml:ppml:ppml-suspension">
<code class="sig-name descname">ppml-suspension</code> <em class="property">Function</em><a class="headerlink" href="#ppml:ppml:ppml-suspension" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Signature</dt>
<dd class="field-odd"><p>ppml-suspension (fun #rest args) =&gt; (ppml)</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>fun</strong> – An instance of <a class="reference external" href="https://opendylan.org/books/drm/Function_Classes#function"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;function&gt;</span></code></a>.</p></li>
<li><p><strong>args</strong> (<em>#rest</em>) – An instance of <a class="reference external" href="https://opendylan.org/books/drm/Object_Classes#object"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;object&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-odd">Values</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ppml</strong> – An instance of <a class="reference internal" href="#ppml:ppml:[ppml-suspension]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml-suspension&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Discussion</dt>
<dd class="field-even"><p>Construct a <a class="reference internal" href="#ppml:ppml:[ppml-suspension]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml-suspension&gt;</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="conversion-to-ppml">
<h3>Conversion to PPML<a class="headerlink" href="#conversion-to-ppml" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt class="dylan-api" id="ppml:ppml:as(class==[ppml],[object])">
<code class="sig-name descname">as(class == &lt;ppml&gt;, &lt;object&gt;)</code> <em class="property">Method</em><a class="headerlink" href="#ppml:ppml:as(class==[ppml],[object])" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>class</strong> – The class <a class="reference internal" href="#ppml:ppml:[ppml]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml&gt;</span></code></a>.</p></li>
<li><p><strong>object</strong> – An instance of <a class="reference external" href="https://opendylan.org/books/drm/Object_Classes#object"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;object&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ppml</strong> – An instance of <a class="reference internal" href="#ppml:ppml:[ppml]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-odd">Discussion</dt>
<dd class="field-odd"><p>Returns the result of calling <code class="docutils literal notranslate"><span class="pre">print-object</span></code> on the
object as PPML. (It does this by using <code class="docutils literal notranslate"><span class="pre">&quot;%=&quot;</span></code> along
with <code class="docutils literal notranslate"><span class="pre">format-to-string</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt class="dylan-api" id="ppml:ppml:as(class==[ppml],[byte-string])">
<code class="sig-name descname">as(class == &lt;ppml&gt;, &lt;byte-string&gt;)</code> <em class="property">Method</em><a class="headerlink" href="#ppml:ppml:as(class==[ppml],[byte-string])" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>class</strong> – The class <a class="reference internal" href="#ppml:ppml:[ppml]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml&gt;</span></code></a>.</p></li>
<li><p><strong>object</strong> – An instance of <a class="reference external" href="https://opendylan.org/books/drm/Collection_Classes#byte-string"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;byte-string&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ppml</strong> – An instance of <a class="reference internal" href="#ppml:ppml:[ppml]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-odd">Discussion</dt>
<dd class="field-odd"><p>Returns the quoted string value as PPML.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt class="dylan-api" id="ppml:ppml:as(class==[ppml],[symbol])">
<code class="sig-name descname">as(class == &lt;ppml&gt;, &lt;symbol&gt;)</code> <em class="property">Method</em><a class="headerlink" href="#ppml:ppml:as(class==[ppml],[symbol])" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>class</strong> – The class <a class="reference internal" href="#ppml:ppml:[ppml]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml&gt;</span></code></a>.</p></li>
<li><p><strong>object</strong> – An instance of <a class="reference external" href="https://opendylan.org/books/drm/Simple_Object_Classes#symbol"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;symbol&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ppml</strong> – An instance of <a class="reference internal" href="#ppml:ppml:[ppml]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-odd">Discussion</dt>
<dd class="field-odd"><p>Returns the string value of the symbol as PPML.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt class="dylan-api" id="ppml:ppml:as(class==[ppml],[collection])">
<code class="sig-name descname">as(class == &lt;ppml&gt;, &lt;collection&gt;)</code> <em class="property">Method</em><a class="headerlink" href="#ppml:ppml:as(class==[ppml],[collection])" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>class</strong> – The class <a class="reference internal" href="#ppml:ppml:[ppml]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml&gt;</span></code></a>.</p></li>
<li><p><strong>object</strong> – An instance of <a class="reference external" href="https://opendylan.org/books/drm/Collection_Classes#collection"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;collection&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ppml</strong> – An instance of <a class="reference internal" href="#ppml:ppml:[ppml]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-odd">Discussion</dt>
<dd class="field-odd"><p>Returns PPML representing the collection as a comma-separated list
surrounded by <code class="docutils literal notranslate"><span class="pre">#(...)</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt class="dylan-api" id="ppml:ppml:as(class==[ppml],[explicit-key-collection])">
<code class="sig-name descname">as(class == &lt;ppml&gt;, &lt;explicit-key-collection&gt;)</code> <em class="property">Method</em><a class="headerlink" href="#ppml:ppml:as(class==[ppml],[explicit-key-collection])" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>class</strong> – The class <a class="reference internal" href="#ppml:ppml:[ppml]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml&gt;</span></code></a>.</p></li>
<li><p><strong>object</strong> – An instance of <a class="reference external" href="https://opendylan.org/books/drm/Collection_Classes#explicit-key-collection"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;explicit-key-collection&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ppml</strong> – An instance of <a class="reference internal" href="#ppml:ppml:[ppml]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-odd">Discussion</dt>
<dd class="field-odd"><p>Returns PPML representing the collection.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt class="dylan-api" id="ppml:ppml:as(class==[ppml],[vector])">
<code class="sig-name descname">as(class == &lt;ppml&gt;, &lt;vector&gt;)</code> <em class="property">Method</em><a class="headerlink" href="#ppml:ppml:as(class==[ppml],[vector])" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>class</strong> – The class <a class="reference internal" href="#ppml:ppml:[ppml]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml&gt;</span></code></a>.</p></li>
<li><p><strong>object</strong> – An instance of <a class="reference external" href="https://opendylan.org/books/drm/Collection_Classes#vector"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;vector&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ppml</strong> – An instance of <a class="reference internal" href="#ppml:ppml:[ppml]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-odd">Discussion</dt>
<dd class="field-odd"><p>Returns PPML representing the vector as a comma-separated list
surrounded by <code class="docutils literal notranslate"><span class="pre">#[...]</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt class="dylan-api" id="ppml:ppml:as(class==[ppml],[list])">
<code class="sig-name descname">as(class == &lt;ppml&gt;, &lt;list&gt;)</code> <em class="property">Method</em><a class="headerlink" href="#ppml:ppml:as(class==[ppml],[list])" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>class</strong> – The class <a class="reference internal" href="#ppml:ppml:[ppml]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml&gt;</span></code></a>.</p></li>
<li><p><strong>object</strong> – An instance of <a class="reference external" href="https://opendylan.org/books/drm/Collection_Classes#list"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;list&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ppml</strong> – An instance of <a class="reference internal" href="#ppml:ppml:[ppml]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-odd">Discussion</dt>
<dd class="field-odd"><p>Returns PPML representing the list as a comma-separated list
surrounded by <code class="docutils literal notranslate"><span class="pre">#(...)</span></code>.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="printing-formatting">
<h3>Printing / Formatting<a class="headerlink" href="#printing-formatting" title="Permalink to this headline">¶</a></h3>
<dl class="generic-function">
<dt class="dylan-api" id="ppml:ppml:format-to-ppml">
<code class="sig-name descname">format-to-ppml</code> <em class="property">Generic function</em><a class="headerlink" href="#ppml:ppml:format-to-ppml" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Signature</dt>
<dd class="field-odd"><p>format-to-ppml (string #rest args) =&gt; (ppml)</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>string</strong> – An instance of <a class="reference external" href="https://opendylan.org/books/drm/Collection_Classes#byte-string"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;byte-string&gt;</span></code></a>.</p></li>
<li><p><strong>args</strong> (<em>#rest</em>) – An instance of <a class="reference external" href="https://opendylan.org/books/drm/Object_Classes#object"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;object&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-odd">Values</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ppml</strong> – An instance of <a class="reference internal" href="#ppml:ppml:[ppml]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Discussion</dt>
<dd class="field-even"><p>We insert breaks at the places where arguments are inserted
in the format string.  This will hopefully give us reasonable
output, but not always as good as we could do by hand.  We
separate out the processing of the format string so that we
can share the constant components of the resulting ppml-block
if the same format expression is used multiple times.</p>
</dd>
</dl>
</dd></dl>

<dl class="generic-function">
<dt class="dylan-api" id="ppml:ppml:ppml-format-string">
<code class="sig-name descname">ppml-format-string</code> <em class="property">Generic function</em><a class="headerlink" href="#ppml:ppml:ppml-format-string" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Signature</dt>
<dd class="field-odd"><p>ppml-format-string (string) =&gt; (f)</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>string</strong> – An instance of <a class="reference external" href="https://opendylan.org/books/drm/Collection_Classes#byte-string"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;byte-string&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-odd">Values</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> – An instance of <a class="reference external" href="https://opendylan.org/books/drm/Function_Classes#function"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;function&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Discussion</dt>
<dd class="field-even"><p>Used by <a class="reference internal" href="#ppml:ppml:format-to-ppml"><code class="xref dylan dylan-gf docutils literal notranslate"><span class="pre">format-to-ppml</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="generic-function">
<dt class="dylan-api" id="ppml:ppml:ppml-print">
<code class="sig-name descname">ppml-print</code> <em class="property">Generic function</em><a class="headerlink" href="#ppml:ppml:ppml-print" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Signature</dt>
<dd class="field-odd"><p>ppml-print (t pp) =&gt; ()</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>t</strong> – An instance of <a class="reference internal" href="#ppml:ppml:[ppml]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml&gt;</span></code></a>.</p></li>
<li><p><strong>pp</strong> – An instance of <a class="reference internal" href="#ppml:ppml:[ppml-printer]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml-printer&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-odd">Discussion</dt>
<dd class="field-odd"><p>This is the best way to display PPML.</p>
</dd>
</dl>
</dd></dl>

<dl class="generic-function">
<dt class="dylan-api" id="ppml:ppml:ppml-print-one-line">
<code class="sig-name descname">ppml-print-one-line</code> <em class="property">Generic function</em><a class="headerlink" href="#ppml:ppml:ppml-print-one-line" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Signature</dt>
<dd class="field-odd"><p>ppml-print-one-line (t pp) =&gt; ()</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>t</strong> – An instance of <a class="reference internal" href="#ppml:ppml:[ppml]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml&gt;</span></code></a>.</p></li>
<li><p><strong>pp</strong> – An instance of <a class="reference internal" href="#ppml:ppml:[ppml-printer]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml-printer&gt;</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-odd">Discussion</dt>
<dd class="field-odd"><p>This prints in the same way as <a class="reference internal" href="#ppml:ppml:ppml-print"><code class="xref dylan dylan-gf docutils literal notranslate"><span class="pre">ppml-print</span></code></a>, but will limit
the output to a single line. It does this by internally using
a line-break-type of <code class="docutils literal notranslate"><span class="pre">#&quot;fit&quot;</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt class="dylan-api" id="ppml:ppml:[ppml-printer]">
<code class="sig-name descname">&lt;ppml-printer&gt;</code> <em class="property">Class</em><a class="headerlink" href="#ppml:ppml:[ppml-printer]" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Superclasses</dt>
<dd class="field-odd"><p><a class="reference external" href="https://opendylan.org/books/drm/Object_Classes#object"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;object&gt;</span></code></a></p>
</dd>
<dt class="field-even">Init-Keywords</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>margin</strong> – An instance of <a class="reference internal" href="#ppml:ppml:[nat]"><code class="xref dylan dylan-type docutils literal notranslate"><span class="pre">&lt;nat&gt;</span></code></a>.</p></li>
<li><p><strong>newline-function</strong> – An instance of <a class="reference external" href="https://opendylan.org/books/drm/Function_Classes#function"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;function&gt;</span></code></a>, taking
no arguments. The default value writes a newline to
<code class="docutils literal notranslate"><span class="pre">*standard-output*</span></code>.</p></li>
<li><p><strong>output-function</strong> – An instance of <a class="reference external" href="https://opendylan.org/books/drm/Function_Classes#function"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;function&gt;</span></code></a>, taking
a single <a class="reference external" href="https://opendylan.org/books/drm/Collection_Classes#string"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code></a> argument. The default value writes to
<code class="docutils literal notranslate"><span class="pre">*standard-output*</span></code>.</p></li>
<li><p><strong>terse-depth</strong> – An instance of <a class="reference external" href="https://opendylan.org/books/drm/Number_Classes#integer"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;integer&gt;</span></code></a>. The default
value is <code class="docutils literal notranslate"><span class="pre">100</span></code>.</p></li>
</ul>
</dd>
<dt class="field-odd">Discussion</dt>
<dd class="field-odd"><p><p>When outputting ppml we need to keep track of the space left on the
current line and the current margin.  We store these values in a
<a class="reference internal" href="#ppml:ppml:[ppml-printer]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml-printer&gt;</span></code></a> object, along with the functions used to
display text and line breaks.</p>
<p>The <em>terse-depth</em> is used to limit recursion amongst
<a class="reference internal" href="#ppml:ppml:[ppml-block]"><code class="xref dylan dylan-class docutils literal notranslate"><span class="pre">&lt;ppml-block&gt;</span></code></a> instances. Once printing has recursed
through <em>terse-depth</em> blocks, it will change the <em>break-type</em>
to <code class="docutils literal notranslate"><span class="pre">#&quot;fit&quot;</span></code> to abbreviate things.</p>
</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="type-aliases-and-constants">
<h3>Type Aliases and Constants<a class="headerlink" href="#type-aliases-and-constants" title="Permalink to this headline">¶</a></h3>
<dl class="type">
<dt class="dylan-api" id="ppml:ppml:[nat]">
<code class="sig-name descname">&lt;nat&gt;</code> <em class="property">Type</em><a class="headerlink" href="#ppml:ppml:[nat]" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Equivalent</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">limited(&lt;integer&gt;,</span> <span class="pre">min:</span> <span class="pre">0)</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="type">
<dt class="dylan-api" id="ppml:ppml:[ppml-break-type]">
<code class="sig-name descname">&lt;ppml-break-type&gt;</code> <em class="property">Type</em><a class="headerlink" href="#ppml:ppml:[ppml-break-type]" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Equivalent</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">one-of(#&quot;consistent&quot;,</span> <span class="pre">#&quot;inconsistent&quot;,</span> <span class="pre">#&quot;fit&quot;)</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="type">
<dt class="dylan-api" id="ppml:ppml:[ppml-sequence]">
<code class="sig-name descname">&lt;ppml-sequence&gt;</code> <em class="property">Type</em><a class="headerlink" href="#ppml:ppml:[ppml-sequence]" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Equivalent</dt>
<dd class="field-odd"><p><a class="reference external" href="https://opendylan.org/books/drm/Collection_Classes#sequence"><code class="xref drm docutils literal notranslate"><span class="pre">&lt;sequence&gt;</span></code></a></p>
</dd>
<dt class="field-even">Discussion</dt>
<dd class="field-even"><p><div class="admonition note">
<p class="admonition-title">Note</p>
<p>This should be <code class="docutils literal notranslate"><span class="pre">limited(&lt;sequence&gt;,</span> <span class="pre">of:</span> <span class="pre">&lt;ppml&gt;)</span></code>.</p>
</div>
</p>
</dd>
</dl>
</dd></dl>

<dl class="constant">
<dt class="dylan-api" id="ppml:ppml:$line-break">
<code class="sig-name descname">$line-break</code> <em class="property">Constant</em><a class="headerlink" href="#ppml:ppml:$line-break" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Value</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">ppml-break(space:</span> <span class="pre">999)</span></code></p>
</dd>
<dt class="field-even">Discussion</dt>
<dd class="field-even"><p>A way to force a line break by making a break with a space larger
than the column width.</p>
</dd>
</dl>
</dd></dl>

</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="porting.html" class="btn btn-neutral float-left" title="Porting to a New Target Platform" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="making-a-release.html" class="btn btn-neutral float-right" title="Release Check-list" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="../copyright.html">Copyright</a> 2011-2023, Dylan Hackers.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>